{"version":3,"sources":["components/persons-form.js","components/person.js","components/persons.js","components/filter.js","components/notification.js","services/persons.js","App.js","index.js"],"names":["PersonsForm","addPerson","handleNameChange","handlePhoneChange","newPhone","newName","onSubmit","value","onChange","type","Person","name","number","remove","onClick","Persons","persons","map","p","id","Filter","handleSearch","search","Notification","notification","className","message","api_url","App","useState","setPersons","setNewName","setNewPhone","setSearch","setNotification","useEffect","axios","get","then","r","data","personsToShow","length","filter","toLowerCase","indexOf","e","target","event","newPerson","preventDefault","find","window","confirm","auxName","updatedPerson","person","put","update","noty","setTimeout","catch","post","concat","err","response","error","delete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e827d2fd.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonsForm = ({addPerson, handleNameChange, handlePhoneChange, newPhone, newName}) => {\n  return (\n    <div>\n      <h2>Add person</h2>\n      <form onSubmit={addPerson}>\n          <div>\n            name: <input value={newName} onChange={handleNameChange} />\n          </div>\n          <div>\n            phone: <input value={newPhone} onChange={handlePhoneChange} />\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n    </div>\n  )\n}\nexport default PersonsForm","import React from 'react'\n\nconst Person = ({name, number, remove}) => (<div>{name} {number} <button onClick={remove}>delete</button></div>)\n\nexport default Person","import React from 'react'\nimport Person from './person'\n\nconst Persons = ({persons, remove}) => {\n  return (\n  persons.map(p => {\n    return <Person key={p.name} name={p.name} number={p.number} remove={() => remove(p.id, p.name)} />\n  })\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst Filter = ({handleSearch, search}) => {\n  return (\n    <div>\n      filter shown with <input value={search} onChange={handleSearch} />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\nconst Notification = ({ notification }) => {\n  if (notification === null) {\n    return null\n  }\n\n  return (\n    <div className={notification.type}>\n      {notification.message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\n\nconst api_url = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(api_url)\n    return request.then(r => r.data )\n}\n\nconst create = newPerson => {\n  const request = axios.post(api_url, newPerson)\n    return request.then(r => r.data )\n}\n\nconst update = ({person, id}) => {\n  const request = axios.put(`${api_url}/${id}`, person)\n    return request.then(r => r.data )\n}\n\nconst remove = id => {\n  const request = axios.delete(`${api_url}/${id}`)\n  return request.then(r => r.data)\n}\nexport {getAll, create, update, remove}","import React, { useState, useEffect } from 'react'\nimport PersonsForm from './components/persons-form'\nimport Persons from './components/persons'\nimport Filter from './components/filter'\nimport Notification from './components/notification'\nimport {create, getAll, remove, update} from './services/persons'\n\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newPhone, setNewPhone ] = useState('')\n  const [search, setSearch] = useState('')\n  const [notification, setNotification] = useState(null)\n\n  useEffect(() => {\n    getAll()\n      .then((data) => {\n          setPersons(data)\n      })\n  },[])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if(persons.find(p => p.name.toLowerCase() === newName.toLowerCase())) {\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new once`)) {\n        const auxName = persons.find(p => p.name === newName)\n        const updatedPerson = {...auxName, number: newPhone}\n        update({id: auxName.id, person:updatedPerson})\n          .then(data => {\n            setPersons(persons.map(p => p.id !== auxName.id ? p : data))\n            setNewName('')\n            setNewPhone('')\n            const noty = {message: `Updated ${data.name}`, type: 'info'}\n            setNotification(noty)\n            setTimeout(() => {\n              setNotification(null)        \n            }, 5000)\n          })\n          .catch(() => {\n            const noty = {message: `Information of ${auxName.name} has already been removed from server`, type: 'error'}\n            setNotification(noty)\n            setTimeout(() => {\n              setNotification(null)\n            }, 5000)\n          })  \n      }\n    } else {\n      const auxName = {name: newName, number: newPhone}\n      create(auxName)\n        .then(data => {\n          setPersons(persons.concat(data))\n          setNewName('')\n          setNewPhone('')\n          const noty = {message: `Added ${data.name}`, type: 'success'}\n          setNotification(noty)\n          setTimeout(() => {\n            setNotification(null)        \n          }, 5000)\n        })\n        .catch(err => {\n          const noty = {message: err.response.data.error, type: 'error'}\n          setNotification(noty)\n          setTimeout(() => {\n            setNotification(null)        \n          }, 5000)\n        })   \n    }\n  }\n\n\n  const removePerson = (id, name) => {\n    if(window.confirm(`Delete ${name} ?`)) {\n      remove(id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== id))\n          const noty = {message: `Removed ${name}`, type: 'success'}\n          setNotification(noty)\n          setTimeout(() => {\n            setNotification(null)        \n          }, 5000)\n        })\n    }\n  }\n\n  const handleChangeSearch = (e) => {\n    setSearch(e.target.value)\n  }\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n  const handlePhoneChange = (e) => {\n    setNewPhone(e.target.value)\n  }\n\n  const personsToShow = search.length === 0 ?\n    persons : \n    persons.filter(p => p.name.toLowerCase().indexOf(search.toLowerCase()) > -1 )\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter handleSearch={handleChangeSearch} search={search} />\n      <PersonsForm \n          handleNameChange={handleNameChange}\n         addPerson={addPerson} \n         handlePhoneChange={handlePhoneChange}\n         newName={newName}\n         newPhone={newPhone}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} remove={removePerson} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}